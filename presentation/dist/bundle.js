(()=>{"use strict";function e(e,t){var n=document.createElement("li");n.textContent=e.subject+" ("+e.id+")",t.appendChild(n)}document.addEventListener("DOMContentLoaded",(function(){var t=document.createElement("form");t.id="form",t.action="/task",t.method="post";var n=document.createElement("label");n.innerText="subject:";var a=document.createElement("input");a.name="subject",a.autofocus=!0,n.appendChild(a);var o=document.createElement("button");o.type="submit",o.textContent="Submit",t.appendChild(n).appendChild(o);var d=document.createElement("ul");d.id="task",document.body.appendChild(t).appendChild(d),fetch("/task").then((function(e){return e.json()})).then((function(t){var n=document.createDocumentFragment();t.forEach((function(t){e(t,n)})),d.appendChild(n)})),t.addEventListener("submit",(function(t){fetch("/task",{method:"POST",headers:{"Content-Type":"application/json"},body:a.value}).then((function(e){return e.json()})).then((function(t){return e(t,d)})),a.value="",t.preventDefault()}))}))})();